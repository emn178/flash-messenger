/*!
 * [flash-messenger]{@link https://github.com/emn178/flash-messenger}
 *
 * @version 0.1.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2016
 * @license MIT
 */
!function(e){"use strict";function a(e){return i.text(e).html()}function s(a){var s=d.typesDefault[a.type];s&&e.extend(a,e.extend({},s,a)),o.forEach(function(e){var s=a[e];a[e]=void 0===s?d["default"][e]:s}),d.convert&&d.convert(a)}function t(t,o){o=o||{},s(o);var c=e(d.message.replace("{message}",a(t)).replace("{type}",o.type)).appendTo(n),i=function(){c.remove()};o.sticky||c.delay(o.time).fadeOut(o.fadeOut,i),o.closable?c.find(d.closeHandler).addBack(d.closeHandler).bind("click",i):c.addClass("nonclosable")}var n,o=["type","time","sticky","fadeOut","closable"],c=["error","danger","info","notice","success","warning","alert"],d={appendTo:"body",container:'<div class="flash-messages"></div>',message:'<div class="flash-message {type}">{message}<span class="flash-message-close">&#10006</span></div>',closeHandler:".flash-message-close","default":{type:"success",time:3e3,sticky:!1,fadeOut:1e3,closable:!0},typesDefault:{error:{sticky:!0},danger:{sticky:!0}}},i=e("<div/>"),l=function(){d.method.apply(this,arguments)};l.setting=d,l.formatOptions=s,d.method=l.defaultMethod=t,window.flash=l,c.forEach(function(e){l[e]=function(a,s){s=s||{},s.type=e,l(a,s)}}),e(document).on("ready page:load",function(){n||(n=e(d.container)),e(d.appendTo).append(n),d.window&&(window.flash=d.window.flash)})}(jQuery);